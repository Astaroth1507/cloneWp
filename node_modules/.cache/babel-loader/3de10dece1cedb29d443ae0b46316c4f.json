{"ast":null,"code":"var _jsxFileName = \"/home/carlos/Escritorio/proyecto progra/cloneWp/src/context/usersCarlosContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport contacts from \"data/contacts\";\nimport { useSocketContext } from \"./socketContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UsersContext = /*#__PURE__*/createContext();\n\nconst useUsersCContext = () => {\n  _s();\n\n  return useContext(UsersContext);\n};\n\n_s(useUsersCContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nconst UsersCProvider = ({\n  children\n}) => {\n  _s2();\n\n  const socket = useSocketContext();\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const [Carlos, setCarlos] = useState(contacts);\n\n  const _updateUserCarlosProp = (userId, prop, value) => {\n    setCarlos(users => {\n      const usersCopy = [...users];\n      let userIndex = users.findIndex(user => user.id === userId);\n      const userObject = usersCopy[userIndex];\n      usersCopy[userIndex] = { ...userObject,\n        [prop]: value\n      }; //console.log(usersCopy[userIndex].id+\"   envia\");\n\n      return usersCopy;\n    });\n  };\n\n  const agregarUsuario = userId => {\n    socket.emit(\"addUser\", userId);\n    console.log(userId);\n    return userId;\n  };\n\n  useEffect(() => {\n    socket.emit(\"addUser\", agregarUsuario);\n    socket.on(\"getUsers\", users => {\n      console.log(users); ///////////////////////////\n\n      setOnlineUsers(users);\n    });\n  }, [socket]);\n  return /*#__PURE__*/_jsxDEV(UsersContext.Provider, {\n    value: {\n      Carlos,\n      agregarUsuario\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(UsersCProvider, \"XcDoXjhVXXIx9KRfi3OJa8AdXPc=\", false, function () {\n  return [useSocketContext];\n});\n\n_c = UsersCProvider;\nexport { useUsersCContext, UsersCProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersCProvider\");","map":{"version":3,"sources":["/home/carlos/Escritorio/proyecto progra/cloneWp/src/context/usersCarlosContext.js"],"names":["createContext","useContext","useEffect","useState","contacts","useSocketContext","UsersContext","useUsersCContext","UsersCProvider","children","socket","onlineUsers","setOnlineUsers","Carlos","setCarlos","_updateUserCarlosProp","userId","prop","value","users","usersCopy","userIndex","findIndex","user","id","userObject","agregarUsuario","emit","console","log","on"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,QAA/C,QAA+D,OAA/D;AACA,OAAOC,QAAP,MAAqB,eAArB;AACA,SAAQC,gBAAR,QAA+B,iBAA/B;;AAGA,MAAMC,YAAY,gBAAGN,aAAa,EAAlC;;AAEA,MAAMO,gBAAgB,GAAG;AAAA;;AAAA,SAAMN,UAAU,CAACK,YAAD,CAAhB;AAAA,CAAzB;;GAAMC,gB;;AAEN,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAExC,QAAMC,MAAM,GAAGL,gBAAgB,EAA/B;AAEA,QAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,EAAD,CAA9C;AAKA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAACC,QAAD,CAApC;;AAEA,QAAMW,qBAAqB,GAAG,CAACC,MAAD,EAASC,IAAT,EAAeC,KAAf,KAAyB;AACtDJ,IAAAA,SAAS,CAAEK,KAAD,IAAW;AACpB,YAAMC,SAAS,GAAG,CAAC,GAAGD,KAAJ,CAAlB;AACA,UAAIE,SAAS,GAAGF,KAAK,CAACG,SAAN,CAAiBC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYR,MAAtC,CAAhB;AACA,YAAMS,UAAU,GAAGL,SAAS,CAACC,SAAD,CAA5B;AACAD,MAAAA,SAAS,CAACC,SAAD,CAAT,GAAuB,EAAE,GAAGI,UAAL;AAAiB,SAACR,IAAD,GAAQC;AAAzB,OAAvB,CAJoB,CAKpB;;AACA,aAAOE,SAAP;AACA,KAPQ,CAAT;AAQA,GATD;;AAaA,QAAMM,cAAc,GAAIV,MAAD,IAAY;AAClCN,IAAAA,MAAM,CAACiB,IAAP,CAAY,SAAZ,EAAuBX,MAAvB;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAYb,MAAZ;AACF,WAAOA,MAAP;AAEE,GALD;;AAOAd,EAAAA,SAAS,CAAC,MAAM;AACfQ,IAAAA,MAAM,CAACiB,IAAP,CAAY,SAAZ,EAAuBD,cAAvB;AACAhB,IAAAA,MAAM,CAACoB,EAAP,CAAU,UAAV,EAAuBX,KAAD,IAAW;AAChCS,MAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ,EADgC,CAGhC;;AACAP,MAAAA,cAAc,CAACO,KAAD,CAAd;AAEA,KAND;AAOA,GATQ,EASN,CAACT,MAAD,CATM,CAAT;AAgBA,sBACC,QAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAAEG,MAAAA,MAAF;AAAUa,MAAAA;AAAV,KAA9B;AAAA,cACEjB;AADF;AAAA;AAAA;AAAA;AAAA,UADD;AAKA,CApDD;;IAAMD,c;UAEUH,gB;;;KAFVG,c;AAsDN,SAASD,gBAAT,EAA2BC,cAA3B","sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\nimport contacts from \"data/contacts\";\nimport {useSocketContext} from \"./socketContext\";\n\n\nconst UsersContext = createContext();\n\nconst useUsersCContext = () => useContext(UsersContext);\n\nconst UsersCProvider = ({ children }) => {\n\n\tconst socket = useSocketContext();\n\n\tconst [onlineUsers, setOnlineUsers] = useState([]);\n\n\n\n\n\tconst [Carlos, setCarlos] = useState(contacts);\n\n\tconst _updateUserCarlosProp = (userId, prop, value) => {\n\t\tsetCarlos((users) => {\n\t\t\tconst usersCopy = [...users];\n\t\t\tlet userIndex = users.findIndex((user) => user.id === userId);\n\t\t\tconst userObject = usersCopy[userIndex];\n\t\t\tusersCopy[userIndex] = { ...userObject, [prop]: value };\n\t\t\t//console.log(usersCopy[userIndex].id+\"   envia\");\n\t\t\treturn usersCopy;\n\t\t});\n\t};\n\n\n\n\tconst agregarUsuario = (userId) => {\n\t\tsocket.emit(\"addUser\", userId);\n\t\tconsole.log(userId);\nreturn userId;\n\n\t};\n\n\tuseEffect(() => {\n\t\tsocket.emit(\"addUser\", agregarUsuario);\n\t\tsocket.on(\"getUsers\", (users) => {\n\t\t\tconsole.log(users)\n\n\t\t\t///////////////////////////\n\t\t\tsetOnlineUsers(users\n\t\t\t);\n\t\t});\n\t}, [socket]);\n\n\n\n\n\n\n\treturn (\n\t\t<UsersContext.Provider value={{ Carlos, agregarUsuario}}>\n\t\t\t{children}\n\t\t</UsersContext.Provider>\n\t);\n};\n\nexport { useUsersCContext, UsersCProvider };\n"]},"metadata":{},"sourceType":"module"}