{"ast":null,"code":"var _jsxFileName = \"/home/carlos/Escritorio/proyecto progra/cloneWp/src/components/Sidebar/Contact.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Icon from \"components/Icon\";\nimport { Link } from \"react-router-dom\";\nimport formatTime from \"utils/formatTime\";\nimport { useUsersContext } from \"context/usersContext\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Contact = ({\n  contact\n}) => {\n  _s();\n\n  const {\n    idUsu\n  } = useParams();\n  contact = contact.filter(user => user.id !== Number(idUsu))[0];\n  console.log(contact);\n  const {\n    setUserAsUnread\n  } = useUsersContext();\n\n  const getLastMessage = () => {\n    const messageDates = Object.keys(contact.messages);\n    const recentMessageDate = messageDates[messageDates.length - 1];\n    const messages = [...contact.messages[recentMessageDate]];\n    const lastMessage = messages.pop();\n    return lastMessage;\n  };\n\n  const lastMessage = getLastMessage(contact);\n  return /*#__PURE__*/_jsxDEV(Link, {\n    className: \"sidebar-contact\",\n    to: `/usuario/${idUsu}/chat/${contact.id}`,\n    onClick: () => setUserAsUnread(contact.id),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-contact__avatar-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: contact.profile_picture,\n        alt: contact.profile_picture,\n        className: \"avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-contact__content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-contact__top-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"sidebar-contact__name\",\n          children: [\" \", contact.name, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sidebar-contact__time\",\n          children: formatTime(lastMessage.time)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-contact__bottom-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"sidebar-contact__message-wrapper\",\n          children: [lastMessage.status && /*#__PURE__*/_jsxDEV(Icon, {\n            id: (lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.status) === \"sent\" ? \"singleTick\" : \"doubleTick\",\n            \"aria-label\": lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.status,\n            className: `sidebar-contact__message-icon ${(lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.status) === \"read\" ? \"sidebar-contact__message-icon--blue\" : \"\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `sidebar-contact__message ${!!contact.unread ? \"sidebar-contact__message--unread\" : \"\"}`,\n            children: contact.typing ? /*#__PURE__*/_jsxDEV(\"i\", {\n              children: \" typing...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 26\n            }, this) : lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-contact__icons\",\n          children: [contact.pinned && /*#__PURE__*/_jsxDEV(Icon, {\n            id: \"pinned\",\n            className: \"sidebar-contact__icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 8\n          }, this), !!contact.unread && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sidebar-contact__unread\",\n            children: contact.unread\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            \"aria-label\": \"sidebar-contact__btn\",\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              id: \"downArrow\",\n              className: \"sidebar-contact__icon sidebar-contact__icon--dropdown\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Contact, \"i7fTAJniNE2x/qbrx5iGqCAtbds=\", false, function () {\n  return [useParams, useUsersContext];\n});\n\n_c = Contact;\nexport default Contact;\n\nvar _c;\n\n$RefreshReg$(_c, \"Contact\");","map":{"version":3,"sources":["/home/carlos/Escritorio/proyecto progra/cloneWp/src/components/Sidebar/Contact.jsx"],"names":["React","Icon","Link","formatTime","useUsersContext","useParams","Contact","contact","idUsu","filter","user","id","Number","console","log","setUserAsUnread","getLastMessage","messageDates","Object","keys","messages","recentMessageDate","length","lastMessage","pop","profile_picture","name","time","status","unread","typing","content","pinned"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Icon from \"components/Icon\";\nimport { Link } from \"react-router-dom\";\nimport formatTime from \"utils/formatTime\";\nimport { useUsersContext } from \"context/usersContext\";\nimport {useParams} from \"react-router-dom\";\n\nconst Contact = ({ contact }) => {\n\n\tconst {idUsu} = useParams();\n\n\tcontact= contact.filter((user) => user.id !== Number(idUsu))[0];\n\tconsole.log(contact);\n\n\tconst { setUserAsUnread } = useUsersContext();\n\tconst getLastMessage = () => {\n\t\tconst messageDates = Object.keys(contact.messages);\n\t\tconst recentMessageDate = messageDates[messageDates.length - 1];\n\t\tconst messages = [...contact.messages[recentMessageDate]];\n\t\tconst lastMessage = messages.pop();\n\t\treturn lastMessage;\n\t};\n\n\tconst lastMessage = getLastMessage(contact);\n\n\treturn (\n\t\t<Link\n\t\t\tclassName=\"sidebar-contact\"\n\t\t\t\tto={`/usuario/${idUsu}/chat/${contact.id}`}\n\t\t\tonClick={() => setUserAsUnread(contact.id)}\n\t\t>\n\t\t\t<div className=\"sidebar-contact__avatar-wrapper\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={contact.profile_picture}\n\t\t\t\t\talt={contact.profile_picture}\n\t\t\t\t\tclassName=\"avatar\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"sidebar-contact__content\">\n\t\t\t\t<div className=\"sidebar-contact__top-content\">\n\t\t\t\t\t<h2 className=\"sidebar-contact__name\"> {contact.name} </h2>\n\t\t\t\t\t<span className=\"sidebar-contact__time\">\n\t\t\t\t\t\t{formatTime(lastMessage.time)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sidebar-contact__bottom-content\">\n\t\t\t\t\t<p className=\"sidebar-contact__message-wrapper\">\n\t\t\t\t\t\t{lastMessage.status && (\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tid={\n\t\t\t\t\t\t\t\t\tlastMessage?.status === \"sent\" ? \"singleTick\" : \"doubleTick\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria-label={lastMessage?.status}\n\t\t\t\t\t\t\t\tclassName={`sidebar-contact__message-icon ${\n\t\t\t\t\t\t\t\t\tlastMessage?.status === \"read\"\n\t\t\t\t\t\t\t\t\t\t? \"sidebar-contact__message-icon--blue\"\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={`sidebar-contact__message ${\n\t\t\t\t\t\t\t\t!!contact.unread ? \"sidebar-contact__message--unread\" : \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{contact.typing ? <i> typing...</i> : lastMessage?.content}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"sidebar-contact__icons\">\n\t\t\t\t\t\t{contact.pinned && (\n\t\t\t\t\t\t\t<Icon id=\"pinned\" className=\"sidebar-contact__icon\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!!contact.unread && (\n\t\t\t\t\t\t\t<span className=\"sidebar-contact__unread\">{contact.unread}</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<button aria-label=\"sidebar-contact__btn\">\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tid=\"downArrow\"\n\t\t\t\t\t\t\t\tclassName=\"sidebar-contact__icon sidebar-contact__icon--dropdown\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Link>\n\t);\n};\n\nexport default Contact;\n"]},"metadata":{},"sourceType":"module"}